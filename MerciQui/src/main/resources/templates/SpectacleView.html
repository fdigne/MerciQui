<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="template1">
<head>
<meta charset="UTF-8" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript">
//<![CDATA[
$(document).ready(function(){

    var select = $("#nbRoles"), table = $("#roleNames"); 
    for (var i = 1; i <= 20; i++) {
        select.append('<option value="'+i+'">'+i+'</option>');
    }

    select.change(function () {
        var rows = '';
        var heads = "<tr><th>Role</th><th>Comedien</th></tr>"
        for (var i = 0; i < $(this).val(); i++) {
            rows += "<tr><td><input type='text' /></td><td><input type='text' /></td></tr>";
        }
        table.html(heads + rows);
    });

});
//]]>
    </script>
<script type="text/javascript" charset="utf-8" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery-ui.min.js"></script>
<title>Merci Qui ?</title>
</head>
<body>
<div layout:fragment="content">
		<div class="col-md-6">
		<div class="panel panel-primary">
				<div class="panel-heading">Liste des Spectacles</div>
						<div class="panel-body">
						<form th:action="@{/consulterSpectacle}" method="get">
							<select name="nomSpectacle" onchange="this.form.submit()">
								<option th:value="${o.nomSpectacle}" th:text="${o.nomSpectacle}" th:each="o:${listeSpectacles}" 
								th:selected="(${o.nomSpectacle} == ${nomSpectacle})"/>
							</select>
							</form>
						</div>
				</div>
		<div class="panel panel-primary" th:if="${spectacle}">
				<div class="panel-heading">Informations</div>
				<div class="panel-body">
				<form th:action="@{/supprimerSpectacle}" method="post">
				<input type="hidden" name="nomSpectacle" th:value="${spectacle.nomSpectacle}" />
						<div>
						<label>Nom : </label> <label th:text="${spectacle.nomSpectacle}"></label>
					</div>
					<div>
					<table class="table table-striped" >
				<tr>
				<th>Nom Rôle</th><th>Titulaire</th><th>Liste Remplaçants</th>
				</tr>
				<tr th:each="o:${listeRoles}" >
				<td th:text="${o.nomRole}"></td>
				<td th:text="${o.nomPersonne}"></td>
				<td>Sarah DIGNE</td>
				</tr>
				</table>
					</div>
					<br/>
					<div>
					<button type="submit" class="btn btn-primary">Supprimer Spectacle</button>
					</div>
					</form>
				</div>
			</div>
		</div>
		<div class="col-md-6">
			<div class="panel panel-primary" >
				<div class="panel-heading">Saisie d'un Spectacle</div>
				<div class="panel-body">
					<form th:action="@{/saisieSpectacle}" method="post">
							<div>
							<label>Nom : </label> <input type="text"
								name="nomSpectacle" /></div>
							<div><label>Nombre de rôles : </label>
							<select id="nbRoles">
<!-- 							<option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option>
 -->							</select>
							</div>
							<div>
							<table id="roleNames" class="table table-striped" ></table>
							</div>
							<button type="submit" class="btn btn-primary">Ajouter</button>
					</form>
				</div>
			</div>
		</div>
</div>
</body>
</html>